<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For My Forever, Betu ❤️</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@500;700&family=Playfair+Display:ital,wght@0,400;0,600;1,400&display=swap');

        body {
            margin: 0;
            padding: 0;
            background-color: #030303; 
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Playfair Display', serif;
            overflow: hidden;
            color: #fff;
            text-align: center;
        }

        /* Ambient glowing background */
        .ambient-glow {
            position: absolute;
            width: 100vw;
            height: 100vh;
            background: radial-gradient(circle at center, rgba(139, 0, 0, 0.15) 0%, rgba(0, 0, 0, 1) 70%);
            z-index: 0;
            opacity: 0;
            transition: opacity 3s ease;
        }

        .container {
            position: relative;
            z-index: 10;
            width: 90%;
            max-width: 650px;
            padding: 20px;
            height: 90vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        /* Initial Tap Button */
        #start-screen {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            transition: opacity 2s ease;
        }

        .glowing-heart {
            font-size: 4.5rem;
            color: #8b0000; 
            cursor: pointer;
            animation: pulseHeart 2s infinite;
            filter: drop-shadow(0 0 15px rgba(139, 0, 0, 0.8));
            margin-bottom: 20px;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        @keyframes pulseHeart {
            0% { transform: scale(1); }
            50% { transform: scale(1.15); filter: drop-shadow(0 0 25px rgba(255, 0, 0, 0.8)); }
            100% { transform: scale(1); }
        }

        .start-text {
            font-size: 1.1rem;
            color: #888;
            font-style: italic;
            letter-spacing: 1px;
        }

        /* The Story Screen Container */
        #story-screen {
            display: none;
            position: relative;
            height: 100%;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        /* Image Container for Story */
        .story-image-container {
            position: relative;
            width: 100%;
            height: 300px; /* Fixed height for images */
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 30px;
        }

        .story-img {
            position: absolute;
            max-width: 100%;
            max-height: 100%;
            height: auto;
            width: auto;
            border-radius: 8px;
            border: 2px solid #333;
            box-shadow: 0 0 25px rgba(139, 0, 0, 0.3);
            opacity: 0;
            transform: scale(0.95);
            transition: opacity 2s ease, transform 2s ease;
            filter: contrast(110%) brightness(90%);
        }

        .story-img.visible {
            opacity: 1;
            transform: scale(1);
        }

        /* Text Container for Story */
        .story-text-container {
            position: relative;
            width: 100%;
            height: 150px; /* Fixed height for text area */
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .line {
            font-size: 1.5rem;
            line-height: 1.6;
            color: #e0e0e0;
            opacity: 0;
            position: absolute;
            width: 100%;
            transform: translateY(20px);
            transition: opacity 2s ease, transform 2s ease;
            text-shadow: 0 2px 10px rgba(0,0,0,1);
        }

        .line.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .line.fade-out {
            opacity: 0;
            transform: translateY(-20px);
        }

        /* Highlight Colors */
        .highlight-gold { color: #d4af37; font-family: 'Cinzel', serif; font-weight: bold; }
        .highlight-red { color: #ff4b2b; font-family: 'Cinzel', serif; font-weight: bold; font-size: 1.8rem; }

        /* Final Screen */
        #final-screen {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            opacity: 0;
            pointer-events: none;
            transition: opacity 3s ease;
        }

        #final-screen.visible {
            opacity: 1;
            pointer-events: auto;
        }

        .final-photo {
            width: 250px;
            height: auto;
            border-radius: 8px;
            border: 3px solid #333;
            box-shadow: 0 0 30px rgba(139, 0, 0, 0.5);
            margin-bottom: 20px;
            filter: contrast(110%);
        }

        .final-text {
            font-size: 1.2rem;
            color: #ccc;
            line-height: 1.8;
            margin-bottom: 30px;
        }

        .signature {
            font-family: 'Cinzel', serif;
            color: #8b0000;
            font-size: 1.5rem;
            letter-spacing: 2px;
        }

    </style>
</head>
<body>

    <div class="ambient-glow" id="bg-glow"></div>
    <audio id="bgMusic" loop hidden>
        <source src="song.mp3" type="audio/mpeg">
    </audio>

    <div class="container">
        
        <div id="start-screen">
            <div class="glowing-heart" onclick="beginJourney()">❤️</div>
            <div class="start-text">Take a deep breath...<br>Then tap the heart.</div>
        </div>

        <div id="story-screen">
            
            <div class="story-image-container">
                <img src="image_15.jpg" id="img-set-1" class="story-img">
                <img src="image_14.jpg" id="img-set-2" class="story-img">
                <img src="image_17.jpg" id="img-set-3" class="story-img">
                <img src="image_16.jpg" id="img-set-4" class="story-img">
                <img src="image_18.jpg" id="img-set-5" class="story-img">
                <img src="image_20.jpg" id="img-set-6" class="story-img">
                <img src="promise5.jpg" id="img-set-7" class="story-img">
            </div>

            <div class="story-text-container">
                <div class="line" id="line0">Meri Betu...</div>
                <div class="line" id="line1">Aaj hum door zaroor hain, par meri har dhadkan sirf tumhara naam leti hai.</div>
                <div class="line" id="line2">Raat ko jab akele hota hoon, toh bas wo sapne dekhta hoon jo humne ek saath dekhe hain...</div>
                <div class="line" id="line3">Ek chota sa aashiyana, tumhari godh mein mera sir, aur hamara aane wala kal.</div>
                <div class="line" id="line4">Tumhe lagta hoga Guplu kabhi kabhi gussa karta hai, ya ajeeb behave karta hai...</div>
                <div class="line" id="line5">Par sach kahu? Main tumhe lekar itna possessive hoon ki kisi aur ka tumhe dekhna bhi bardasht nahi hota.</div>
                <div class="line" id="line6">Tum sirf meri ho. Meri thi, aur hamesha meri rahogi. Ye haq main kisi ko nahi dunga.</div>
                <div class="line" id="line7">Main tumhe itna pyaar dena chahta hoon, jitna is duniya mein kisi ne kisi ko na diya ho.</div>
                <div class="line" id="line8">Tumhara gussa, tumhara bachpana, tumhari har zidd... sab mujhe qubool hai.</div>
                <div class="line" id="line9">Tumhe pata hai meri sabse badi sacchai kya hai?</div>
                <div class="line highlight-gold" id="line10">Is poori duniya mein...<br>Is poore universe mein...</div>
                <div class="line highlight-red" id="line11">Koi bhi Betu ko uske Guplu se zyada pyaar nahi kar sakta.<br><span style="font-size:1rem; color:#888;">Koi nahi.</span></div>
                <div class="line" id="line12">Duniya kehti hai ki insaan ek hi baar jeeta hai...</div>
                <div class="line highlight-gold" id="line13">Par mujhe yakeen hai, I have loved you in every birth I have ever taken.</div>
                <div class="line" id="line14">Aur aage aane wale har janam mein, meri rooh sirf aur sirf tumhi ko dhoondhegi.</div>
                <div class="line" id="line15">Maine tumhe apni taqdeer mein nahi, apni rooh mein likhwaya hai.</div>
                <div class="line" id="line16">Aaj is din par, mere paas tumhe dene ke liye sirf ek hi cheez hai... mera sab kuch.</div>
                <div class="line highlight-red" id="line17">Will you be my Valentine...<br>not just for today, but for forever?</div>
            </div>
        </div>

        <div id="final-screen">
            <img src="promise5.jpg" alt="Our Eyes" class="final-photo">
            <div class="final-text">
                "Hold me so tight...<br>
                that even air cannot pass between us."<br><br>
                In every life, in every universe, I am yours.<br>
                I love you mera betu mera bacha, mera dulara mera laado. ❤️
            </div>
            <div class="signature">Always & Forever, Your Guplu</div>
        </div>

    </div>

    <script>
        const timings = [4000, 5000, 6000, 6000, 5500, 6500, 6000, 6000, 5500, 4000, 4500, 6500, 5000, 6000, 6000, 5500, 5500, 7500];
        
        // Map specific lines to specific image sets
        const imageChangePoints = {
            0: 'img-set-1', // Missing Her
            3: 'img-set-2', // The Dream
            4: 'img-set-3', // Possessiveness
            7: 'img-set-4', // Acceptance
            9: 'img-set-5', // Big Truth
            12: 'img-set-6', // Every Birth
            16: 'img-set-7'  // Proposal
        };

        let currentVisibleImageId = null;

        function beginJourney() {
            var music = document.getElementById("bgMusic");
            music.volume = 0.6; 
            music.play().catch(error => console.log("Audio play failed"));

            document.getElementById('start-screen').style.opacity = '0';
            document.getElementById('bg-glow').style.opacity = '1';
            
            setTimeout(() => {
                document.getElementById('start-screen').style.display = 'none';
                document.getElementById('story-screen').style.display = 'flex';
                playLines(0);
            }, 2000);
        }

        function playLines(index) {
            if (index < timings.length) {
                // 1. Handle Image Changes
                if (imageChangePoints[index]) {
                    // Hide previous image if exists
                    if (currentVisibleImageId) {
                        document.getElementById(currentVisibleImageId).classList.remove('visible');
                    }
                    // Show new image
                    const newImageId = imageChangePoints[index];
                    document.getElementById(newImageId).classList.add('visible');
                    currentVisibleImageId = newImageId;
                }

                // 2. Handle Text
                let currentLine = document.getElementById('line' + index);
                currentLine.classList.add('visible');

                // Wait, then fade out text
                setTimeout(() => {
                    currentLine.classList.remove('visible');
                    currentLine.classList.add('fade-out');
                    
                    // If the NEXT line triggers an image change, fade out current image now
                    if (imageChangePoints[index + 1] && currentVisibleImageId) {
                         document.getElementById(currentVisibleImageId).classList.remove('visible');
                    }

                    setTimeout(() => {
                        playLines(index + 1);
                    }, 1200); 

                }, timings[index]);

            } else {
                // End Sequence
                setTimeout(() => {
                    document.getElementById('story-screen').style.display = 'none';
                    document.getElementById('final-screen').classList.add('visible');
                    document.getElementById('bg-glow').style.background = 'radial-gradient(circle at center, rgba(160, 0, 0, 0.5) 0%, rgba(0, 0, 0, 1) 80%)';
                }, 1000);
            }
        }
    </script>
</body>
</html>
